{"version":3,"names":["defineCustomEventTarget","NativeModules","addListener","removeListener","Logger","MediaStream","MediaStreamTrack","MediaStreamTrackEvent","RTCDataChannel","RTCDataChannelEvent","RTCEvent","RTCIceCandidate","RTCIceCandidateEvent","RTCRtpReceiveParameters","RTCRtpReceiver","RTCRtpSendParameters","RTCRtpSender","RTCRtpTransceiver","RTCSessionDescription","RTCTrackEvent","RTCUtil","log","WebRTCModule","PEER_CONNECTION_EVENTS","nextPeerConnectionId","RTCPeerConnection","localDescription","remoteDescription","signalingState","iceGatheringState","connectionState","iceConnectionState","constructor","configuration","_pcId","peerConnectionInit","_transceivers","_remoteStreams","Map","_pendingTrackEvents","_registerEvents","debug","createOffer","options","sdpInfo","newTransceivers","transceiversInfo","peerConnectionCreateOffer","normalizeOfferOptions","forEach","t","transceiverOrder","transceiver","newSender","sender","track","remoteTrack","receiver","newReceiver","newTransceiver","_insertTransceiverSorted","_updateTransceivers","createAnswer","peerConnectionCreateAnswer","setConfiguration","peerConnectionSetConfiguration","setLocalDescription","sessionDescription","_desc","desc","type","sdp","isSdpTypeValid","Error","peerConnectionSetLocalDescription","setRemoteDescription","Promise","reject","peerConnectionSetRemoteDescription","pendingTrackEvents","ev","getTransceivers","filter","id","_mid","mid","_currentDirection","currentDirection","_direction","direction","streams","map","streamInfo","has","streamId","stream","streamReactTag","tracks","set","get","_tracks","includes","push","eventData","dispatchEvent","_setMutedInternal","addIceCandidate","candidate","sdpMLineIndex","undefined","sdpMid","TypeError","newSdp","peerConnectionAddICECandidate","toJSON","addTrack","_trackExists","_len","arguments","length","Array","_key","streamIds","s","result","peerConnectionAddTrack","existingSender","getSenders","_track","existingTransceiver","addTransceiver","source","init","src","trackId","peerConnectionAddTransceiver","removeTrack","_peerConnectionId","find","peerConnectionRemoveTrack","getStats","selector","data","peerConnectionGetStats","JSON","parse","senders","receivers","getReceivers","r","matches","sr","e","stopped","Boolean","close","peerConnectionClose","_ref","_setStopped","restartIce","peerConnectionRestartIce","pcId","peerConnectionDispose","receiverId","values","trackIdx","indexOf","splice","channel","dataChannel","muted","createDataChannel","label","dataChannelDict","channelInfo","_sender$track","transceiverUpdates","removeStopped","update","transceiverId","_stopped","isStopped","_sender","_rtpParameters","senderRtpParameters","_receiver","receiverRtpParameters","order","sort","a","b"],"sourceRoot":"../../src","sources":["RTCPeerConnection.ts"],"mappings":"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"}